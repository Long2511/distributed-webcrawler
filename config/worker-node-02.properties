spring.application.name=distributed-webcrawler-worker

server.port=8089

# ===============================
# CENTRAL SERVICES (MASTER) HOSTS
# ===============================
# !!!  Replace 172.16.132.118 with your real master-node IP address  !!!

# MongoDB
spring.data.mongodb.uri=mongodb://172.16.132.118:27017/webcrawler

# Redis
spring.redis.host=172.16.132.118
spring.redis.port=6379

# Kafka use the master node's *external* listener (see docker-compose)
spring.kafka.bootstrap-servers=172.16.132.118:19092
spring.kafka.consumer.group-id=webcrawler-workers
spring.kafka.consumer.auto-offset-reset=earliest

# ===============================
# WORKER INSTANCE IDENTIFICATION
# ===============================
webcrawler.instance.machine-id=worker-node-02
# Advertised host should be this machine's reachable IP address
webcrawler.instance.advertised-host=172.16.128.239
webcrawler.instance.heartbeat-interval-seconds=30

# Disable master-only features for this node
webcrawler.instance.is-master=false
webcrawler.instance.enable-web-ui=false

# ===============================
# CRAWLER BEHAVIOUR
# ===============================
webcrawler.user-agent=Ouroboros Web Crawler/1.0 (Worker Node)
webcrawler.max-depth=10
webcrawler.politeness.delay=500
webcrawler.politeness.respect-robots-txt=true
webcrawler.batch.size=15

# Frontier tuning for workers
webcrawler.frontier.batch-size=15
webcrawler.frontier.adaptive-allocation=true

# Worker-specific limits
webcrawler.worker.max-concurrent-crawls=5
webcrawler.worker.request-timeout=30000

# ===============================
# LOGGING & MONITORING
# ===============================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

logging.level.root=INFO
logging.level.com.ouroboros.webcrawler=DEBUG
logging.level.org.springframework.data.mongodb=INFO
logging.level.org.springframework.kafka=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/webcrawler-worker-02.log
logging.file.max-size=10MB
logging.file.max-history=20